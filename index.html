<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced WYSIWYG HTML Editor</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div id="app-container">
        <div class="panel code-editor-panel">
            <h2 class="panel-title">HTML Source Code</h2>
            <textarea
                id="htmlCode"
                class="code-textarea"
                placeholder="Paste your HTML code here..."
            >&lt;h1&gt;Welcome to the WYSIWYG Editor!&lt;/h1&gt;
&lt;p&gt;This is a &lt;strong&gt;powerful&lt;/strong&gt; and &lt;em&gt;intuitive&lt;/em&gt; editor. Try editing the text directly in the preview.&lt;/p&gt;
&lt;ul&gt;
    &lt;li&gt;Item 1&lt;/li&gt;
    &lt;li&gt;Item 2&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can also insert &lt;a href=&quot;https://google.com&quot; target=&quot;_blank&quot;&gt;links&lt;/a&gt; and &lt;span style=&quot;background-color: yellow;&quot;&gt;highlight&lt;/span&gt; text.&lt;/p&gt;
&lt;img src=&quot;https://placehold.co/400x200/lightgreen/white?text=Editable+Image&quot; alt=&quot;Placeholder Image&quot; style=&quot;width: 100%; max-width: 400px; height: auto; display: block; margin: 1rem 0;&quot;&gt;</textarea>
            <div class="panel-actions">
                <button id="renderButton" class="action-button primary">
                    <i class="fas fa-play"></i> Render HTML
                </button>
                <button id="syncButton" class="action-button secondary">
                    <i class="fas fa-sync-alt"></i> Sync from Preview
                </button>
                <button id="downloadButton" class="action-button tertiary">
                    <i class="fas fa-download"></i> Download HTML
                </button>
            </div>
        </div>

        <div class="panel preview-panel">
            <h2 class="panel-title">Live Preview (Editable)</h2>
            <div id="editorToolbar" class="editor-toolbar">
                <button class="toolbar-button" data-command="bold" title="Bold"><i class="fas fa-bold"></i></button>
                <button class="toolbar-button" data-command="italic" title="Italic"><i class="fas fa-italic"></i></button>
                <button class="toolbar-button" data-command="underline" title="Underline"><i class="fas fa-underline"></i></button>
                <button class="toolbar-button" data-command="strikeThrough" title="Strikethrough"><i class="fas fa-strikethrough"></i></button>
                <button class="toolbar-button" data-command="superscript" title="Superscript"><i class="fas fa-superscript"></i></button>
                <button class="toolbar-button" data-command="subscript" title="Subscript"><i class="fas fa-subscript"></i></button>
                <button class="toolbar-button" data-command="insertUnorderedList" title="Bulleted List"><i class="fas fa-list-ul"></i></button>
                <button class="toolbar-button" data-command="insertOrderedList" title="Numbered List"><i class="fas fa-list-ol"></i></button>

                <div class="color-picker-container">
                    <label for="fontColorPicker" class="sr-only">Font Color</label>
                    <input type="color" id="fontColorPicker" class="color-picker" title="Font Color">
                    <span class="color-label"><i class="fas fa-palette"></i> Text</span>
                </div>
                <div class="color-picker-container">
                    <label for="fontBgColorPicker" class="sr-only">Highlight Color</label>
                    <input type="color" id="fontBgColorPicker" class="color-picker" title="Highlight Color">
                    <span class="color-label"><i class="fas fa-highlighter"></i> Highlight</span>
                </div>
                <div class="color-picker-container">
                    <label for="divBgColorPicker" class="sr-only">Div Background Color</label>
                    <input type="color" id="divBgColorPicker" class="color-picker" title="Block Background Color">
                    <span class="color-label"><i class="fas fa-fill-drip"></i> Block Bg</span>
                </div>

                <button class="toolbar-button" id="insertLinkBtn" title="Insert Link"><i class="fas fa-link"></i></button>
                <button class="toolbar-button" id="insertImageBtn" title="Insert Image"><i class="fas fa-image"></i></button>
                <button class="toolbar-button" id="clearFormatBtn" title="Clear Formatting"><i class="fas fa-eraser"></i></button>

                <select id="fontSizeSelect" class="toolbar-select" title="Font Size">
                    <option value="" disabled selected>Font Size</option>
                    <option value="1">Smallest</option>
                    <option value="2">Smaller</option>
                    <option value="3">Normal</option>
                    <option value="4">Large</option>
                    <option value="5">Larger</option>
                    <option value="6">Huge</option>
                    <option value="7">Largest</option>
                </select>
            </div>

            <iframe
                id="previewFrame"
                class="editable-frame"
                sandbox="allow-same-origin allow-scripts allow-forms allow-modals"
            ></iframe>

            <div id="messageBox" class="message-box"></div>
        </div>
    </div>

    <div id="linkModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h3>Insert Hyperlink</h3>
            <label for="linkURL">URL:</label>
            <input type="url" id="linkURL" placeholder="https://example.com" class="modal-input">
            <label for="linkText">Text to display:</label>
            <input type="text" id="linkText" placeholder="Click here" class="modal-input">
            <button id="confirmLinkBtn" class="modal-button primary">Insert Link</button>
        </div>
    </div>

    <div id="imageModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h3>Insert Image</h3>
            <label for="imageURL">Image URL:</label>
            <input type="url" id="imageURL" placeholder="https://example.com/image.jpg" class="modal-input">
            <button id="confirmImageBtn" class="modal-button primary">Insert Image</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
